/*
 * This Scala source file was generated by the Gradle 'init' task.
 */
package taller_4_paralelismo_y_recursion
import org.scalameter.withWarmer
import org.scalameter.Warmer.Default
import scala.collection.parallel.CollectionConverters._

import org.scalameter.measurer


/**
 * Taller 4: Paralelismo y recursión
 * Authors: David Santiago Velasco Triana, Jhojan Stiven Castaño Jejenm, William Alexander Franco Otero
 * Profesor: Carlos A Delgado
 */
object App {
  type Matriz = Vector[Vector[Int]]
  def main(args: Array[String]): Unit = {
    val matrices = new Matrices()
    val matrizA = matrices.matrizAlAzar(2,2)
    val matrizB = matrices.matrizAlAzar(2,2)
    def compararAlgoritmos(f1: (Matriz, Matriz) => Matriz, f2: (Matriz, Matriz) => Matriz, m1: Matriz, m2: Matriz): Unit = {
      val time1 = withWarmer(new Default) measure {
        f1(m1, m2)
      }
      println(s"Tiempo de ejecucion de la funcion reqsec: $time1")
      val time2 = withWarmer(new Default) measure {
        f2(m1, m2)
      }
      println(s"Tiempo de ejecucion de la funcion par: $time2")

      val aceleracion = time1.value / time2.value
      println(s"aceleracion: $aceleracion")
    }
    compararAlgoritmos(matrices.multMatrizRecSec, matrices.multMatrizRecSec, matrizA, matrizB)
  }

}
